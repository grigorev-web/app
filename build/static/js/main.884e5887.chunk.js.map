{"version":3,"sources":["components/NewsTable.js","App.js","functions.js","index.js"],"names":["NewsTable","props","data","result","news","map","nw","index","App","React","useState","loading","setData","useEffect","console","log","className","process","onClick","fetch","obj","params","URLSearchParams","item","append","toString","toUrlParams","action","name","named","then","res","json","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2JAIe,SAASA,EAAUC,GAK9B,OACI,6BACCA,EAAMC,KAAKC,OAAOC,KAAKC,KAAI,SAACC,EAAIC,GAAL,OAC1B,6BAAiBD,GAARC,QCkCJC,MAxCf,WAEE,IAFa,EAMWC,IAAMC,SAAS,CACrCC,SAAS,EACTR,OAAQ,CAAEC,KAAM,CAAC,mFARN,mBAMNF,EANM,KAMAU,EANA,KA6Bb,OAlBAC,qBAAW,kBAAKC,QAAQC,IAAIb,MAmB1B,sBAAKc,UAAU,MAAf,UACE,wCAAWC,gBACX,wBAAQC,QAlBZ,WAEEN,EAAQ,CAAED,SAAS,EAAMR,OAAQ,CAAEC,KAAM,CAAC,0DAI1Ce,MAjBS,2BCPN,SAAqBC,GAExB,IAAIC,EAAS,IAAIC,gBAEjB,IAAK,IAAIC,KAAQH,EACbC,EAAOG,OAAQD,EAAMH,EAAIG,IAG7B,MAAO,IAAMF,EAAOI,WDgBJC,CAFL,CAAEC,OAAO,OAAOC,KAAM,QAASC,MAAO,YAG9CC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACGnB,EAALmB,EAAa,CAAEpB,SAAS,EAAOR,OAAQ4B,GAC7B,CAACpB,SAAQ,EAAOR,OAAQ,CAAEC,KAAK,CAAC,gGAQ/C,kBACA,wCAAWF,EAAKS,QAAU,aAAe,MACzC,4EACA,cAACX,EAAD,CAAWE,KAAMA,QErCvB+B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.884e5887.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\n\r\nexport default function NewsTable(props){\r\n\r\n    \r\n\r\n    \r\n    return(\r\n        <ul>\r\n        {props.data.result.news.map((nw, index) => (\r\n          <li key={index}>{nw}</li>\r\n        ))}\r\n        </ul>\r\n    )\r\n}","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport NewsTable from \"./components/NewsTable\";\nimport {toUrlParams} from \"./functions\";\n\n\nfunction App() {\n\n  let domain = \"http://dm2grig.mart-shop.ru\";\n  let path = \"/wp-admin/admin-ajax.php\";\n  let ajaxUrl = process.env.NODE_ENV == \"development\" ? domain + path : path;\n\n  const [data, setData] = React.useState({\n    loading: false,\n    result: { news: [\"Новостей нету...\"] },\n  });\n\n  useEffect( ()=> console.log(data))\n  \n\n  function dgLoader() {\n    \n    setData({ loading: true, result: { news: [\"Загрузка...\"] } });\n\n   let pData = { action:'test',name: 'kolya', named: 'Kolyan'}\n\n    fetch(ajaxUrl + toUrlParams(pData))\n      .then((res) => res.json())\n      .then((res) => {\n        if(res) setData({ loading: false, result: res });\n        else setData({loading:false, result: { news:['Ошибка загрузки']} })\n      })\n      \n      }\n\n  return (\n    <div className=\"App\">\n      <p>result:{process.env.NODE_ENV}</p>\n      <button onClick={dgLoader}>load</button>\n      <p>status:{data.loading ? \"loading...\" : \"\"}</p>\n      <h2>Новости</h2>\n      <NewsTable data={data}/>\n    </div>\n  );\n}\n\nexport default App;\n","\r\n\r\nexport function toUrlParams(obj){\r\n\r\n    let params = new URLSearchParams();\r\n\r\n    for( let item in obj){\r\n        params.append( item, obj[item]);\r\n    }\r\n\r\n    return '?' + params.toString();\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}